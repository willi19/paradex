camera_reader
=============

.. py:module:: camera_reader






Module Contents
---------------

.. py:function:: discover_cameras()

   시스템에서 사용 가능한 카메라 목록을 자동으로 찾음

   :returns: 활성화된 카메라 이름 리스트
   :rtype: list


.. py:function:: wait_for_cameras(timeout=10.0, poll_interval=0.5)

   카메라가 초기화될 때까지 대기

   :param timeout: 최대 대기 시간 (초)
   :param poll_interval: 스캔 간격 (초)

   :returns: 발견된 카메라 이름 리스트
   :rtype: list


.. py:class:: CameraReader(camera_name, frame_shape=(1536, 2048, 3), timeout=5.0)

   Shared memory에서 카메라 이미지를 읽어오는 클래스


   .. py:attribute:: name


   .. py:attribute:: frame_shape
      :value: (1536, 2048, 3)



   .. py:attribute:: timeout
      :value: 5.0



   .. py:method:: get_image(copy=True)

      현재 읽을 수 있는 이미지와 frame ID를 가져옴

      :param copy: True면 이미지 복사본 반환, False면 shared memory 참조 반환

      :returns:

                (image, frame_id)
                    - image: numpy array (frame_shape)
                    - frame_id: int, 프레임 ID (0이면 아직 데이터 없음)
      :rtype: tuple



   .. py:method:: wait_for_new_frame(last_frame_id=None, timeout=1.0, poll_interval=0.001)

      새로운 프레임이 올 때까지 대기

      :param last_frame_id: 마지막으로 받은 frame ID (None이면 현재 frame ID 사용)
      :param timeout: 최대 대기 시간 (초)
      :param poll_interval: 폴링 간격 (초)

      :returns: (image, frame_id) or (None, None) if timeout
      :rtype: tuple



   .. py:method:: is_active()

      카메라가 현재 활성화되어 있는지 확인 (frame_id > 0)



   .. py:method:: get_frame_id()

      현재 frame ID만 가져옴



   .. py:method:: close()

      Shared memory 연결 해제



.. py:class:: MultiCameraReader(camera_names=None, frame_shape=(1536, 2048, 3), timeout=5.0)

   여러 카메라의 shared memory를 동시에 읽는 클래스


   .. py:attribute:: readers


   .. py:attribute:: camera_names
      :value: None



   .. py:method:: get_images(copy=True)

      모든 카메라의 이미지를 가져옴

      :returns: {camera_name: (image, frame_id)}
      :rtype: dict



   .. py:method:: wait_for_new_frames(last_frame_ids=None, timeout=1.0)

      모든 카메라의 새 프레임 대기

      :param last_frame_ids: dict {camera_name: last_frame_id} or None
      :param timeout: 최대 대기 시간

      :returns: {camera_name: (image, frame_id)}
      :rtype: dict



   .. py:method:: get_frame_ids()

      모든 카메라의 frame ID 가져옴



   .. py:method:: are_active()

      각 카메라의 활성 상태 확인



   .. py:method:: close()

      모든 shared memory 연결 해제



